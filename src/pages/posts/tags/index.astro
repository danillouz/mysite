---
import PageLayout from "@layouts/Page.astro"
import Tag from "@components/Tag.astro"

import type { Frontmatter } from "@types"

const posts = await Astro.glob<Frontmatter>("../*.mdx")
const tags = posts.map((p) => p.frontmatter.tags ?? []).flat()
const uniqueTags = Array.from(new Set(tags))
---

<PageLayout title="Dan's tags">
  <section
    class="mx-auto px-6 my-10 sm:my-20 prose sm:prose-lg prose-slate prose-headings:font-serif dark:prose-invert"
  >
    <h1>Posts &gt; tags</h1>

    <div class="not-prose">
      <ul class="list-none flex flex-wrap items-center gap-2">
        {
          uniqueTags.map((tag) => {
            return (
              <li class="flex">
                <Tag name={tag}>{tag}</Tag>
              </li>
            )
          })
        }
      </ul>
    </div>
  </section>
</PageLayout>
